{"version":3,"sources":["webpack:///./src/App.vue?0360","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/pages/Index.vue","webpack:///./src/pages/Index.vue?4cc7","webpack:///./src/pages/Index.vue","webpack:///src/pages/Result.vue","webpack:///./src/pages/Result.vue?b0cf","webpack:///./src/pages/Result.vue","webpack:///./src/pages/Error.vue?6fd9","webpack:///./src/pages/Error.vue","webpack:///src/pages/Error.vue","webpack:///./src/router/index.js","webpack:///./src/store/modules/approval.js","webpack:///./src/store/index.js","webpack:///./src/assets/script/http/axiosApi.js","webpack:///./src/main.js"],"names":["iview_loader__ref__5_1_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","Index","data","list","title","template","desc","type","index","uploadList","fileId","visible","currentIndex","currentList","computed","extends_default","Object","vuex_esm","approvalStore","state","approval","methods","handleClick","handleSuccess","res","file","push","vue_esm","set","Array","console","log","handleView","handleFormatError","$Notice","warning","handleRemove","item","_this","$axios","delete","response","then","splice","indexOf","handelSubmit","_this2","post","bizId","$router","params","created","_this3","get","init","status","mounted","pages_Index","_vm","staticClass","_v","_l","key","slot","_s","span","_index","src","nativeOn","click","$event","_e","ref","refInFor","show-upload-list","multiple","on-success","on-format-error","action","format","max-size","icon","model","value","callback","$$v","expression","staticStyle","width","on","src_pages_Index","Index_normalizeComponent","Result","props","pages_Result","solt","accessCode","comment","src_pages_Result","Result_normalizeComponent","pages_Error","to","src_pages_Error","Error_normalizeComponent","use","vue_router_esm","router","routes","path","redirect","component","mutations","update","actions","_ref","commit","_ref2","store","Store","modules","axios_default","a","default","baseURL","defaults","transformRequest","lib_default","stringify","CancelToken","pending","interceptors","request","config","flag","url","cancelToken","c","error","message","promise_default","reject","code","err","resolve","axiosApi_getPromiseInstance","method","headers","Content-Type","contentType","onUploadProgress","progressEvent","prototype","toString","call","uploadProgressCallBack","apply","axiosApi__this","onDownloadProgress","DownloadProgressCallBack","catch","thrown","isCancel","axiosApi","put","upload","productionTip","iview_default","el","components","App"],"mappings":"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","file":"static/js/app.5ac49436d4f98cdbc49b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-53e6cd92\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/iview-loader??ref--5-1!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-53e6cd92\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!../node_modules/iview-loader/index.js??ref--5-1!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!../node_modules/iview-loader/index.js??ref--5-1!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!../node_modules/iview-loader/index.js??ref--5-1!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-53e6cd92\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!../node_modules/iview-loader/index.js??ref--5-1!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin: 5% 0 5% 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\r\n  <Card class='i-card'>\r\n      <h3>流动人口及外来务工人员随迁子女就读申请</h3>\r\n      <template v-for='(item,index) in list'>\r\n        <Row class='i-card-item-i-row' :key='index'>\r\n          <Col>\r\n            <Card class='i-card-item'>\r\n              <p slot='title'>{{item.title}}</p>\r\n              <Row>\r\n                <Col span=\"12\" class=\"i-card-item-lable\">材料模板：</Col>\r\n                <Col span=\"12\">{{item.template}}</Col>\r\n              </Row>\r\n              <Row>\r\n                <Col span=\"12\" class=\"i-card-item-lable\">材料说明：</Col>\r\n                <Col span=\"12\">{{item.desc}}</Col>\r\n              </Row>\r\n              <Row>\r\n                <Col>\r\n                  <div class=\"upload-list\" v-for=\"(item, _index) in uploadList[index]\" :key=\"index+'_'+_index\">\r\n                   <template v-if=\"item.status === 'finished'\">\r\n                     <img :src=\"'/api/file/download/' + item.response.data\">\r\n                     <div class=\"upload-list-cover\">\r\n                         <Icon type=\"ios-eye-outline\" @click.native=\"handleView(item.response.data)\"></Icon>\r\n                         <Icon type=\"ios-trash-outline\" @click.native=\"handleRemove(index, item)\"></Icon>\r\n                     </div>\r\n                   </template>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n              <Row class=\"i-upload\">\r\n                <Col>\r\n                  <Upload\r\n                    ref=\"upload\"\r\n                    :show-upload-list=\"false\"\r\n                    multiple\r\n                    :data=\"approvalStore\"\r\n                    :on-success=\"handleSuccess\"\r\n                    :on-format-error=\"handleFormatError\"\r\n                    :action=\"'/api/file/upload/' + item.type\"\r\n                    :format=\"['jpg','jpeg','png']\"\r\n                    :max-size=\"2048\">\r\n                    <Button type=\"primary\" icon=\"ios-cloud-upload-outline\" @click.native=\"handleClick(index)\">上传</Button>\r\n                  </Upload>\r\n                </Col>\r\n              </Row>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </template>\r\n      <Modal title=\"View Image\" v-model=\"visible\">\r\n        <img :src=\"'/api/file/download/' + fileId\" v-if=\"visible\" style=\"width: 100%\">\r\n      </Modal>\r\n      <Button type=\"primary\" @click='handelSubmit'>提交</Button>\r\n  </Card>\r\n</template>\r\n<script>\r\nimport {mapState, mapActions} from 'vuex'\r\nimport Vue from 'vue'\r\n// import _ from 'lodash'\r\nexport default {\r\n  name: 'Index',\r\n  data () {\r\n    return {\r\n      list: [\r\n        {\r\n          title: '入学申请书',\r\n          template: 'this is a iamge',\r\n          desc: '',\r\n          type: 'approvalForSchool',\r\n          index: 0\r\n        },\r\n        {\r\n          title: '外来务工人员和流动人口随迁子女就学联系函',\r\n          template: 'this is a iamge',\r\n          desc: '',\r\n          type: 'contact',\r\n          index: 1\r\n        },\r\n        {\r\n          title: '户口本',\r\n          template: 'this is a iamge',\r\n          desc: '',\r\n          type: 'domicile',\r\n          index: 2\r\n        },\r\n        {\r\n          title: '居住证明',\r\n          template: 'this is a iamge',\r\n          desc: '',\r\n          type: 'residencePermit',\r\n          index: 3\r\n        },\r\n        {\r\n          title: '劳务证明',\r\n          template: 'this is a iamge',\r\n          desc: '',\r\n          type: 'labour',\r\n          index: 4\r\n        },\r\n        {\r\n          title: '疫苗接种证',\r\n          template: 'this is a iamge',\r\n          desc: '',\r\n          type: 'vaccinationCertificate',\r\n          index: 5\r\n        }\r\n      ],\r\n      uploadList: [],\r\n      fileId: '',\r\n      visible: false,\r\n      currentIndex: 0,\r\n      currentList: []\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      approvalStore: state => state.approval.approvalStore\r\n    })\r\n    // uploadListComputed () {\r\n    //   return\r\n    // }\r\n\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'init', // map `this.init()` to `this.$store.dispatch('init')`\r\n      'update'// map `this.update()` to `this.$store.dispatch('update')`\r\n    ]),\r\n    handleClick (index) {\r\n      this.currentIndex = index\r\n    },\r\n    handleSuccess (res, file) {\r\n      let list = this.uploadList[this.currentIndex]\r\n      if (list) {\r\n        list.push(file)\r\n        // 注意：数组采用以下方式赋值视图不会重新渲染，同理对象的也不行\r\n        // this.uploadList[this.currentIndex] = list\r\n        Vue.set(this.uploadList, this.currentIndex, list)\r\n      } else {\r\n        Vue.set(this.uploadList, this.currentIndex, new Array(file))\r\n      }\r\n      console.log(this.uploadList)\r\n    },\r\n    handleView (fileId) {\r\n      this.fileId = fileId\r\n      this.visible = true\r\n    },\r\n    handleFormatError (file) {\r\n      this.$Notice.warning({\r\n        title: '文件类型错误',\r\n        desc: '文件： ' + file.name + ' 上传失败！请上传图片格式的文件'\r\n      })\r\n    },\r\n    handleRemove (index, item) {\r\n      // uploadList中删除。文件删除，数据库删除\r\n      // 文件删除\r\n      // 后台删除\r\n      this.$axios.delete('/api/file/delete/' + item.response.data).then(res => {\r\n        let list = this.uploadList[index]\r\n        list.splice(list.indexOf(item), 1)\r\n        Vue.set(this.uploadList, index, list)\r\n      })\r\n    },\r\n    handelSubmit () {\r\n      this.$axios.post('/api/updateApproval/' + this.approvalStore.bizId).then(res => {\r\n        this.$router.push({name: 'Result', params: { bizId: this.approvalStore.bizId }})\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.$axios.get('/api/createApproval').then(res => {\r\n      this.init(res.data)\r\n      if (res.data.status !== 0) {\r\n        this.$router.push({name: 'Error', params: { bizId: res.data.bizId }})\r\n      }\r\n    })\r\n  },\r\n  mounted () {\r\n\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n  .i-card {\r\n    margin: 0 auto;\r\n    width: 90%;\r\n  }\r\n  .i-card-item-i-row {\r\n    margin: 10% 0 10% 0;\r\n  }\r\n  .i-card-item-lable {\r\n    text-align: left;\r\n  }\r\n  .i-upload{\r\n    margin-top: 5%;\r\n  }\r\n  .upload-list{\r\n    display: inline-block;\r\n    width: 60px;\r\n    height: 60px;\r\n    text-align: center;\r\n    line-height: 60px;\r\n    border: 1px solid transparent;\r\n    border-radius: 4px;\r\n    overflow: hidden;\r\n    background: #fff;\r\n    position: relative;\r\n    box-shadow: 0 1px 1px rgba(0,0,0,.2);\r\n    margin-right: 4px;\r\n  }\r\n  .upload-list img{\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .upload-list-cover{\r\n    display: none;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background: rgba(0,0,0,.6);\r\n  }\r\n  .upload-list:hover .upload-list-cover{\r\n    display: block;\r\n  }\r\n  .upload-list-cover i{\r\n    color: #fff;\r\n    font-size: 20px;\r\n    cursor: pointer;\r\n    margin: 0 2px;\r\n  }\r\n  .vertical-center-modal{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  .vertical-center-modal > .ivu-modal{\r\n      top: 0;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Card',{staticClass:\"i-card\"},[_c('h3',[_vm._v(\"流动人口及外来务工人员随迁子女就读申请\")]),_vm._v(\" \"),_vm._l((_vm.list),function(item,index){return [_c('Row',{key:index,staticClass:\"i-card-item-i-row\"},[_c('Col',[_c('Card',{staticClass:\"i-card-item\"},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('Row',[_c('Col',{staticClass:\"i-card-item-lable\",attrs:{\"span\":\"12\"}},[_vm._v(\"材料模板：\")]),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"12\"}},[_vm._v(_vm._s(item.template))])],1),_vm._v(\" \"),_c('Row',[_c('Col',{staticClass:\"i-card-item-lable\",attrs:{\"span\":\"12\"}},[_vm._v(\"材料说明：\")]),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"12\"}},[_vm._v(_vm._s(item.desc))])],1),_vm._v(\" \"),_c('Row',[_c('Col',_vm._l((_vm.uploadList[index]),function(item,_index){return _c('div',{key:index+'_'+_index,staticClass:\"upload-list\"},[(item.status === 'finished')?[_c('img',{attrs:{\"src\":'/api/file/download/' + item.response.data}}),_vm._v(\" \"),_c('div',{staticClass:\"upload-list-cover\"},[_c('Icon',{attrs:{\"type\":\"ios-eye-outline\"},nativeOn:{\"click\":function($event){_vm.handleView(item.response.data)}}}),_vm._v(\" \"),_c('Icon',{attrs:{\"type\":\"ios-trash-outline\"},nativeOn:{\"click\":function($event){_vm.handleRemove(index, item)}}})],1)]:_vm._e()],2)}))],1),_vm._v(\" \"),_c('Row',{staticClass:\"i-upload\"},[_c('Col',[_c('Upload',{ref:\"upload\",refInFor:true,attrs:{\"show-upload-list\":false,\"multiple\":\"\",\"data\":_vm.approvalStore,\"on-success\":_vm.handleSuccess,\"on-format-error\":_vm.handleFormatError,\"action\":'/api/file/upload/' + item.type,\"format\":['jpg','jpeg','png'],\"max-size\":2048}},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-cloud-upload-outline\"},nativeOn:{\"click\":function($event){_vm.handleClick(index)}}},[_vm._v(\"上传\")])],1)],1)],1)],1)],1)],1)]}),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"View Image\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[(_vm.visible)?_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":'/api/file/download/' + _vm.fileId}}):_vm._e()]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handelSubmit}},[_vm._v(\"提交\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3575e953\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/iview-loader??ref--5-1!./src/pages/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3575e953\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!../../node_modules/iview-loader/index.js??ref--5-1!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--5-1!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--5-1!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3575e953\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!../../node_modules/iview-loader/index.js??ref--5-1!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3575e953\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"result-wrapper\">\r\n    <Card>\r\n      <p solt='title'>审核结果</p>\r\n      <p v-if=\"approvalStore.status === 2\">恭喜您，你通过了审核，请凭{{approvalStore.accessCode}}认证码办理入学！</p>\r\n      <p v-else-if=\"approvalStore.status === 3\">很遗憾，您的信息因为{{approvalStore.comment}}而未通过审核！</p>\r\n      <p v-else>您的信息正在审核中，请耐心等待</p>\r\n    </Card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {mapState} from 'vuex'\r\nexport default{\r\n  name: 'Result',\r\n  props: ['bizId'],\r\n  computed: {\r\n    ...mapState({\r\n      approvalStore: state => state.approval.approvalStore\r\n    })\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Result.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"result-wrapper\"},[_c('Card',[_c('p',{attrs:{\"solt\":\"title\"}},[_vm._v(\"审核结果\")]),_vm._v(\" \"),(_vm.approvalStore.status === 2)?_c('p',[_vm._v(\"恭喜您，你通过了审核，请凭\"+_vm._s(_vm.approvalStore.accessCode)+\"认证码办理入学！\")]):(_vm.approvalStore.status === 3)?_c('p',[_vm._v(\"很遗憾，您的信息因为\"+_vm._s(_vm.approvalStore.comment)+\"而未通过审核！\")]):_c('p',[_vm._v(\"您的信息正在审核中，请耐心等待\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7ef4b88b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/iview-loader??ref--5-1!./src/pages/Result.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--5-1!./Result.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--5-1!./Result.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7ef4b88b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!../../node_modules/iview-loader/index.js??ref--5-1!./Result.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Result.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"error-wrapper\"},[_c('p',[_vm._v(\"您提交的申请正在审核，请勿重复提交，您可以点击以下链接查询结果\"),_c('router-link',{attrs:{\"to\":{ name: 'Result', params: {bizId: _vm.bizId} }}},[_vm._v(_vm._s(_vm.bizId))])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-69786818\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/iview-loader??ref--5-1!./src/pages/Error.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-69786818\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!../../node_modules/iview-loader/index.js??ref--5-1!./Error.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--5-1!./Error.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--5-1!./Error.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-69786818\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!../../node_modules/iview-loader/index.js??ref--5-1!./Error.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-69786818\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Error.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"error-wrapper\">\r\n    <p>您提交的申请正在审核，请勿重复提交，您可以点击以下链接查询结果<router-link :to=\"{ name: 'Result', params: {bizId} }\">{{bizId}}</router-link></p>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'Error',\r\n  props: ['bizId']\r\n}\r\n</script>\r\n<style scoped>\r\n.error-wrapper{\r\n  display: block;\r\n  min-height: 100%;\r\n  padding: 60% 5%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Error.vue","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Index from '@/pages/Index'\nimport Result from '@/pages/Result'\nimport Error from '@/pages/Error'\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      // name: 'Index',\n      // component: Index,\n      redirect: '/index'\n    },\n    {\n      path: '/index',\n      name: 'Index',\n      component: Index\n    },\n    {\n      path: '/error/:bizId',\n      name: 'Error',\n      component: Error,\n      props: true\n    },\n    {\n      path: '/result/:bizId',\n      name: 'Result',\n      component: Result,\n      props: true\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","const state = {\r\n  approvalStore: {}\r\n}\r\nconst mutations = {\r\n  update (state, approval) {\r\n    state.approvalStore = approval\r\n  }\r\n}\r\nconst actions = {\r\n  init ({commit}, data) {\r\n    // 此处不能用this.$axios因为this不指向vue\r\n    commit('update', data)\r\n  },\r\n  update ({commit}, approval) {\r\n    commit('update', approval)\r\n  }\r\n}\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/approval.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport approval from './modules/approval'\r\nVue.use(Vuex)\r\nexport default new Vuex.Store({\r\n  modules: {\r\n    approval\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import axios from 'axios'\r\nimport qs from 'qs'\r\n// import Base64 from 'js-base64'\r\n\r\n// global axio defaults start\r\nif (process.env.NODE_ENV === 'development') {\r\n  axios.default.baseURL = 'http://localhost:8081'\r\n} else if (process.env.NODE_ENV === 'debug') {\r\n  axios.default.baseURL = 'http://localhost:8081'\r\n} else if (process.env.NODE_ENV === 'production') {\r\n  axios.default.baseURL = ''\r\n}\r\n// if need credentials\r\n// axios.defaul.withCredentials = true //default false\r\n\r\n// Serializer data\r\naxios.defaults.transformRequest = [ (data) => {\r\n  return qs.stringify(data)\r\n}]\r\n// global axio defaults end\r\n\r\n// if need cancel request\r\nvar CancelToken = axios.CancelToken\r\nlet pending = {}\r\n// request interceptors\r\naxios.interceptors.request.use(config => {\r\n  // get flag\r\n  let flag = config.url + qs.stringify(config.params) + qs.stringify(config.data)\r\n  if (pending[flag]) {\r\n    pending[flag]('cancle the request by user, because of it is repeated!')\r\n    // if this request has been cancled then remove this flag\r\n    delete pending[flag]\r\n  } else {\r\n    config.cancelToken = new CancelToken((c) => {\r\n      pending[flag] = c\r\n    })\r\n  }\r\n  return config\r\n}, error => {\r\n  console.error(error.data.message)\r\n  return Promise.reject(error.data.message)\r\n})\r\n\r\n// response interceptors\r\n// return json format\r\n// {\r\n//   result : 1,//1 -> success 0 --> failed -1 --> unknow\r\n//   message : '',\r\n//   data : object\r\n// }\r\naxios.interceptors.response.use(response => {\r\n  if (response.data.code !== 'Success') {\r\n    return Promise.reject(response)\r\n  }\r\n  return response.data\r\n}, err => {\r\n  if (err && err.response) {\r\n    switch (err.response.status) {\r\n      case 400:\r\n        err.response.data.message = '错误请求'\r\n        break\r\n      case 401:\r\n        err.response.data.message = '未授权，请重新登录'\r\n        break\r\n      case 403:\r\n        err.response.data.message = '拒绝访问'\r\n        break\r\n      case 404:\r\n        err.response.data.message = '请求错误,未找到该资源'\r\n        break\r\n      case 405:\r\n        err.response.data.message = '请求方法未允许'\r\n        break\r\n      case 408:\r\n        err.response.data.message = '请求超时'\r\n        break\r\n      case 500:\r\n        err.response.data.message = '服务器端出错'\r\n        break\r\n      case 501:\r\n        err.response.data.message = '网络未实现'\r\n        break\r\n      case 502:\r\n        err.response.data.message = '网络错误'\r\n        break\r\n      case 503:\r\n        err.response.data.message = '服务不可用'\r\n        break\r\n      case 504:\r\n        err.response.data.message = '网络超时'\r\n        break\r\n      case 505:\r\n        err.response.data.message = 'http版本不支持该请求'\r\n        break\r\n      default:\r\n        err.response.data.message = `连接错误${err.response.status}`\r\n    }\r\n  } else {\r\n    err.response.data.message = '连接到服务器失败'\r\n  }\r\n  return Promise.resolve(err.response)\r\n})\r\n\r\nlet getPromiseInstance = (config) => {\r\n  // why get a promise ?\r\n  // usually, axios will get a promise instance but if use async await and get an error\r\n  // axios will not return a promise instance!\r\n  return new Promise((resolve, reject) => {\r\n    axios({\r\n      method: config.method || 'get',\r\n      url: config.url,\r\n      params: config.params,\r\n      headers: {\r\n        'Content-Type': config.contentType || 'application/x-www-form-urlencoded'\r\n      },\r\n      onUploadProgress: (progressEvent) => {\r\n        if (Object.prototype.toString.call(config.uploadProgressCallBack) === '[object Function]') {\r\n          config.uploadProgressCallBack.apply(this, progressEvent)\r\n        }\r\n      },\r\n      onDownloadProgress: (progressEvent) => {\r\n        if (Object.prototype.toString.call(config.DownloadProgressCallBack) === '[object Function]') {\r\n          config.DownloadProgressCallBack.apply(this, progressEvent)\r\n        }\r\n      }\r\n    }).then(res => {\r\n      resolve(res)\r\n    }).catch(thrown => {\r\n      if (axios.isCancel(thrown)) {\r\n        console.log('Request canceled', thrown.data.message)\r\n      } else {\r\n        console.error('Request errored', thrown.data.message)\r\n      }\r\n    })\r\n  })\r\n}\r\n// export\r\n\r\nexport default {\r\n  get (url, params) {\r\n    return getPromiseInstance({url, params, method: 'get'})\r\n  },\r\n  post (url, params) {\r\n    return getPromiseInstance({url, params, method: 'post'})\r\n  },\r\n  put (url, params) {\r\n    return getPromiseInstance({url, params, method: 'put'})\r\n  },\r\n  delete (url, params) {\r\n    return getPromiseInstance({url, params, method: 'delete'})\r\n  },\r\n  upload (url, params, uploadProgressCallBack) {\r\n    return getPromiseInstance({url, params, method: 'post', uploadProgressCallBack, contentType: 'multipart/form-data'})\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/script/http/axiosApi.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport IView from 'iview'\r\nimport 'iview/dist/styles/iview.css'\r\nimport store from './store'\r\nimport Http from './assets/script/http/axiosApi'\r\nVue.prototype.$axios = Http\r\nVue.config.productionTip = false\r\nVue.use(IView)\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}